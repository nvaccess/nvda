Build Instructions

Prerequisites:

NVDAHelper needs The Microsoft Windows SDK, version 6.1 or later. You can find it here:
http://msdn.microsoft.com/en-us/windows/bb980924.aspx

 The gecko_ia2 virtual buffer backend requires the IAccessible2 IDL file. You can obtain it here:
http://www.linuxfoundation.org/en/Accessibility/IAccessible2
Download the merged IDL and copy it to ..\include\ia2\ia2.idl.

The adobeAcrobat virtual buffer backend requires the Adobe Acrobat accessibility IDL and header files. This is rather difficult to find, so here is a direct link:
http://www.adobe.com/devnet/acrobat/downloads/ClientFiles.zip
Extract the files into ..\include\AcrobatAccess.

The apiHook module requires MinHook. See the source readme.txt file for more details.
From the binary archive, copy MinHook.h to ..\include, MinHook.x86.lib to ..\lib and MinHook.x64.lib to ..\lib64.

The NVDAHelper build is managed by the SCons build system: http://www.scons.org/
For now, you will need to use a build from svn trunk.

Building the library:

To build the library and all virtual buffer backends, open a command prompt, cd to the top-level directory of nvdaHelper and run the command scons.
There is no need to use the MSVC environment command prompt, scons will locate what it needs automatically in any standard environment.

By default a version with debugging symbols will be generated. To build a release version, provide release=1 on the command line when running scons:
scons release=1

To install the produced libraries in to your NVDA source directory, run the following command:
scons install
You will need to add release=1 to this command line as well if you want to install a release version.

To build the 64 bit version of the libraries, specify TARGET_ARCH=x86_64 on the command line; e.g.:
scons install release=1 TARGET_ARCH=x86_64
